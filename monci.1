.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.48.1.
.TH MONCI "1" "February 2022" "monci 0.1" "User Commands"
.SH NAME
monci \- monci
.SH DESCRIPTION
usage: monci [\-h] {ci,images,distros,bootstrap,update,remove,shell,run} ...
.PP
CI tool
.SS "positional arguments:"
.TP
{ci,images,distros,bootstrap,update,remove,shell,run}
sub\-command help
.TP
ci
clone a git repository and launch a container instance
in the requested OS chroot executing a build in the
cloned source tree according to .travis\-build.sh
script (or <buildscript> if set)
.TP
images
List OS images
.TP
distros
List OS images
.TP
bootstrap
Create or update the whole set of OS images for the CI
.TP
update
Update existing OS images
.TP
remove
Remove existing OS images
.TP
shell
Run a shell in the given container
.TP
run
Run a shell in the given container
.SS "optional arguments:"
.TP
\fB\-h\fR, \fB\-\-help\fR
show this help message and exit
.SH  CI  SUBCOMMAND

usage: monci ci [\-h] [\-v] [\-\-debug] [\-I IMAGEDIR] [\-\-branch BRANCH]
.IP
[\-s SYSTEM] [\-b BUILD_STYLE]
.SH REPO
.SS "positional arguments:"
.TP
repo
path or url of the repository to build. Default: the
current directory
.SS "optional arguments:"
.TP
\fB\-h\fR, \fB\-\-help\fR
show this help message and exit
.TP
\fB\-v\fR, \fB\-\-verbose\fR
verbose output
.TP
\fB\-\-debug\fR
verbose output
.TP
\fB\-I\fR IMAGEDIR, \fB\-\-imagedir\fR IMAGEDIR
path to the directory that contains container images.
Default: from configuration file, or ./images
.TP
\fB\-\-branch\fR BRANCH
branch to be used. Default: let 'git clone' choose
.TP
\fB\-s\fR SYSTEM, \fB\-\-system\fR SYSTEM
name or path of the system used to build
.TP
\fB\-b\fR BUILD_STYLE, \fB\-\-build\-style\fR BUILD_STYLE
name of the procedure used to run the CI. Default:
\&'travis'
.SH  IMAGES  SUBCOMMAND

usage: monci images [\-h] [\-v] [\-\-debug] [\-I IMAGEDIR] [\-\-csv]
.SS "optional arguments:"
.TP
\fB\-h\fR, \fB\-\-help\fR
show this help message and exit
.TP
\fB\-v\fR, \fB\-\-verbose\fR
verbose output
.TP
\fB\-\-debug\fR
verbose output
.TP
\fB\-I\fR IMAGEDIR, \fB\-\-imagedir\fR IMAGEDIR
path to the directory that contains container images.
Default: from configuration file, or ./images
.TP
\fB\-\-csv\fR
machine readable output in CSV format
.SH  DISTROS  SUBCOMMAND

usage: monci distros [\-h] [\-v] [\-\-debug] [\-I IMAGEDIR] [\-\-csv]
.SS "optional arguments:"
.TP
\fB\-h\fR, \fB\-\-help\fR
show this help message and exit
.TP
\fB\-v\fR, \fB\-\-verbose\fR
verbose output
.TP
\fB\-\-debug\fR
verbose output
.TP
\fB\-I\fR IMAGEDIR, \fB\-\-imagedir\fR IMAGEDIR
path to the directory that contains container images.
Default: from configuration file, or ./images
.TP
\fB\-\-csv\fR
machine readable output in CSV format
.SH  BOOTSTRAP  SUBCOMMAND

usage: monci bootstrap [\-h] [\-v] [\-\-debug] [\-I IMAGEDIR] [\-\-recreate]
.IP
.SH "SYSTEMS ..."
.SS "positional arguments:"
.TP
systems
names or paths of systems to bootstrap. Default: all
\&.yaml files and existing images
.SS "optional arguments:"
.TP
\fB\-h\fR, \fB\-\-help\fR
show this help message and exit
.TP
\fB\-v\fR, \fB\-\-verbose\fR
verbose output
.TP
\fB\-\-debug\fR
verbose output
.TP
\fB\-I\fR IMAGEDIR, \fB\-\-imagedir\fR IMAGEDIR
path to the directory that contains container images.
Default: from configuration file, or ./images
.TP
\fB\-\-recreate\fR
delete the images and recreate them from scratch
.SH  UPDATE  SUBCOMMAND

usage: monci update [\-h] [\-v] [\-\-debug] [\-I IMAGEDIR] [systems ...]
.SS "positional arguments:"
.TP
systems
names or paths of systems to bootstrap. Default: all
\&.yaml files and existing images
.SS "optional arguments:"
.TP
\fB\-h\fR, \fB\-\-help\fR
show this help message and exit
.TP
\fB\-v\fR, \fB\-\-verbose\fR
verbose output
.TP
\fB\-\-debug\fR
verbose output
.TP
\fB\-I\fR IMAGEDIR, \fB\-\-imagedir\fR IMAGEDIR
path to the directory that contains container images.
Default: from configuration file, or ./images
.SH  REMOVE  SUBCOMMAND

usage: monci remove [\-h] [\-v] [\-\-debug] [\-I IMAGEDIR] [\-\-recreate]
.IP
systems [systems ...]
.SS "positional arguments:"
.TP
systems
names or paths of systems to bootstrap. Default: all
\&.yaml files and existing images
.SS "optional arguments:"
.TP
\fB\-h\fR, \fB\-\-help\fR
show this help message and exit
.TP
\fB\-v\fR, \fB\-\-verbose\fR
verbose output
.TP
\fB\-\-debug\fR
verbose output
.TP
\fB\-I\fR IMAGEDIR, \fB\-\-imagedir\fR IMAGEDIR
path to the directory that contains container images.
Default: from configuration file, or ./images
.TP
\fB\-\-recreate\fR
delete the images and recreate them from scratch
.SH  SHELL  SUBCOMMAND

usage: monci shell [\-h] [\-v] [\-\-debug] [\-I IMAGEDIR] [\-\-maintenance]
.IP
[\-w WORKDIR | \fB\-\-clone\fR repository] [\-\-bind BIND]
[\-\-bind\-ro BIND_RO] [\-u] [\-r]
system
.SS "positional arguments:"
.TP
system
name or path of the system to use
.SS "optional arguments:"
.TP
\fB\-h\fR, \fB\-\-help\fR
show this help message and exit
.TP
\fB\-v\fR, \fB\-\-verbose\fR
verbose output
.TP
\fB\-\-debug\fR
verbose output
.TP
\fB\-I\fR IMAGEDIR, \fB\-\-imagedir\fR IMAGEDIR
path to the directory that contains container images.
Default: from configuration file, or ./images
.TP
\fB\-\-maintenance\fR
do not run ephemerally: changes will be preserved
.TP
\fB\-w\fR WORKDIR, \fB\-\-workdir\fR WORKDIR
bind mount (writable) the given directory in \fI\,/root\/\fP
.TP
\fB\-\-clone\fR repository
checkout the given repository (local or remote) in the
chroot
.TP
\fB\-\-bind\fR BIND
option passed to systemd\-nspawn as is (see man
systemd\-nspawn) can be given multiple times
.TP
\fB\-\-bind\-ro\fR BIND_RO
option passed to systemd\-nspawn as is (see man
systemd\-nspawn) can be given multiple times
.TP
\fB\-u\fR, \fB\-\-user\fR
create a shell as the current user before sudo
(default is root, or the owner of workdir)
.TP
\fB\-r\fR, \fB\-\-root\fR
create a shell as root (useful if using workdir and
still wanting a root shell)
.SH  RUN  SUBCOMMAND

usage: monci run [\-h] [\-v] [\-\-debug] [\-I IMAGEDIR] [\-\-maintenance]
.IP
[\-w WORKDIR | \fB\-\-clone\fR repository] [\-\-bind BIND]
[\-\-bind\-ro BIND_RO] [\-u] [\-r]
system ...
.SS "positional arguments:"
.TP
system
name or path of the system to use
.TP
command
Command to run
.SS "optional arguments:"
.TP
\fB\-h\fR, \fB\-\-help\fR
show this help message and exit
.TP
\fB\-v\fR, \fB\-\-verbose\fR
verbose output
.TP
\fB\-\-debug\fR
verbose output
.TP
\fB\-I\fR IMAGEDIR, \fB\-\-imagedir\fR IMAGEDIR
path to the directory that contains container images.
Default: from configuration file, or ./images
.TP
\fB\-\-maintenance\fR
do not run ephemerally: changes will be preserved
.TP
\fB\-w\fR WORKDIR, \fB\-\-workdir\fR WORKDIR
bind mount (writable) the given directory in \fI\,/root\/\fP
.TP
\fB\-\-clone\fR repository
checkout the given repository (local or remote) in the
chroot
.TP
\fB\-\-bind\fR BIND
option passed to systemd\-nspawn as is (see man
systemd\-nspawn) can be given multiple times
.TP
\fB\-\-bind\-ro\fR BIND_RO
option passed to systemd\-nspawn as is (see man
systemd\-nspawn) can be given multiple times
.TP
\fB\-u\fR, \fB\-\-user\fR
create a shell as the current user before sudo
(default is root, or the owner of workdir)
.TP
\fB\-r\fR, \fB\-\-root\fR
create a shell as root (useful if using workdir and
still wanting a root shell)
